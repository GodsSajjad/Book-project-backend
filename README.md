# پروژه مدیریت کتاب‌ها با Node.js

<<<<<<< HEAD
## معرفی

این پروژه یک API برای مدیریت کتاب‌ها است که با استفاده از Node.js و چند کتابخانه محبوب ساخته شده. سیستم احراز هویت امن دارد و قابلیت مدیریت کتاب‌ها را با دسترسی‌های مختلف برای کاربران و ادمین‌ها فراهم می‌کند.

## کتابخانه‌های استفاده شده

-   Sequelize (ORM برای کار با پایگاه داده MySQL)
-   Bcrypt (رمزنگاری پسوردها)
-   Cors (مدیریت دسترسی‌های HTTP)
-   Dotenv (مدیریت متغیرهای محیطی)
-   Express (فریمورک وب)
-   Mysql (پایگاه داده)
-   Joi (اعتبارسنجی ورودی‌ها)
-   Jsonwebtoken (مدیریت توکن‌های احراز هویت)

---

## مسیرهای API

### احراز هویت

| مسیر                    | متد  | توضیح                       | دسترسی          |
| ----------------------- | ---- | --------------------------- | --------------- |
| `/auth/register`        | POST | ثبت‌نام کاربر               | همه             |
| `/auth/login`           | POST | ورود به سیستم               | همه             |
| `/auth/logout`          | POST | خروج از سیستم               | همه             |
| `/auth/getaccesstoken`  | GET  | گرفتن توکن جدید (رفرش توکن) | همه             |
| `/auth/change-username` | PUT  | تغییر نام کاربری            | کاربر احراز شده |
| `/auth/change-password` | PUT  | تغییر رمز عبور              | کاربر احراز شده |

### مدیریت کتاب‌ها

| مسیر                  | متد    | توضیح                                    | دسترسی    |
| --------------------- | ------ | ---------------------------------------- | --------- |
| `/get-all`            | GET    | گرفتن همه کتاب‌ها (کتاب‌های همه کاربران) | همه       |
| `/book/:username`     | GET    | گرفتن کتاب‌های یک ادمین مشخص             | همه       |
| `/book/:username/:id` | GET    | گرفتن یک کتاب مشخص از یک ادمین           | همه       |
| `/add-book`           | POST   | ساخت کتاب جدید                           | فقط ادمین |
| `/remove-book`        | DELETE | حذف کتاب                                 | فقط ادمین |
| `/my-book`            | GET    | گرفتن کتاب‌های کاربر (ادمین)             | فقط ادمین |

---

## ویژگی‌ها

-   **احراز هویت امن:** استفاده از JWT و رمزنگاری Bcrypt برای حفظ امنیت کاربران
-   **مدیریت نقش‌ها:** فقط ادمین‌ها می‌توانند کتاب‌ها را اضافه، حذف و ویرایش کنند
-   **اعتبارسنجی ورودی‌ها:** استفاده از Joi برای اعتبارسنجی username و password
-   **مدیریت خطا:** ارور هندلر سفارشی `AppError` با دو حالت development و production
-   **استفاده از Sequelize:** کار با پایگاه داده MySQL به صورت ORM

---

## نصب و راه‌اندازی

1. پروژه را کلون کنید:
    ```bash
    git clone <لینک-ریپازیتوری>
    ```
=======
بک اند یک سایت برای مطالعه کتاب‌ها که فقط ادمین‌ها می‌توانند کتاب‌ها را مدیریت کنند (افزودن، ویرایش و حذف). این پروژه با استفاده از Express و Passport ساخته شده و از MySQL برای ذخیره‌سازی داده‌ها بهره می‌برد.

## ویژگی‌ها

-   ثبت‌نام و ورود کاربران با Passport.js (Local Strategy) به همراه هش کردن امن پسوردها
-   مدیریت کتاب‌ها فقط توسط کاربران ادمین
-   نمایش لیست کتاب‌ها برای همه کاربران
-   اتصال به پایگاه داده MySQL با استفاده از ORM Sequelize
-   ساختار RESTful برای روت‌ها
-   استفاده از معماری MVC برای پوشه بندی

## تکنولوژی‌ها

-   Node.js + Express
-   Passport.js (Local Strategy)
-   MySQL
-   Express-session
-   bcrypt

## نصب و راه‌اندازی

1. مخزن را کلون کنید:

```bash
git clone https://github.com/GodsSajjad/book-project.git
cd book-project
```
>>>>>>> 66660bb00d8219c7f028e551d455840c551ee3a5
